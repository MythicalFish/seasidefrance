---
import { marked } from 'marked';
import PropertyPhotos from '../PropertyPhotos.astro';
import PropertyIntro from '../PropertyIntro.astro';
import AvailablePeriods from '../AvailablePeriods';
import FeatureList from '../FeatureList';

const { property } = Astro.props;
const { lodgify } = property;
const descriptionHtml = property.description ? marked.parse(property.description) : '';
---

<>
  <h1 class="text-2xl font-bold mb-4">{property.name}</h1>
  <PropertyPhotos property={property} layout="gallery" class="mb-4" />
  <PropertyIntro property={property} className="mb-8" />
  <AvailablePeriods
    client:load
    useSwiper
    propertyId={property.id}
    rates={property.rates}
    availability={property.availability}
    currencyCode={lodgify.currencyCode}
    limit={8}
  />
  <div class="mt-4" set:html={descriptionHtml} />
  <div class="mt-4 flex">
    <FeatureList title="Features" items={property.features} />
    <FeatureList title="Highlights" items={property.highlights} />
  </div>
</>
